## PENDING

- switch 'index' to 'key', 'start' to 'initial', use 'sp_index'
- fix the grid to be in actual pixels and not arbitrary size, the zooming looks unnatural and some lines are drawn with different widths
- profile the code (in ui) and make it optimized:
    - make the game more responsive, make interactions take 1 frame or 2 at most
    - dont draw wires that don't intersect the camera_view_rect
    - parallel computing for ticks
    - merge sub circuits into formulas
    - start using references with lifetime
    - do imports affect runtime??
    - so many gates moves that may be uneccessary
- make a custom rect type that uses usize for (x,y) instead of f32 to be more space efficient, either way
all rects are aligned it would help enforce alignment when drawing
- implement a lerp helper to Color
- capability to move around selection of gates
- make compressed save files smaller copy paste, 'clock.save' should be much smaller. maybe don't try to compress json, and make a more friendly format.
- make an actual ui:
    - an infinite droptable similar to a debugger
    - some foldable statistics about current circuit
    - make keyboard strokes register in game, and input requests (make a terminal)
    - add a debug mode to highlight points and rects, lines
- don't make esc actually exit, and make it more like right click (needs more thinking)
- revamp the draw_gate_over_mouse and the drawing of gates in general:
    - maybe move the big matches in draw() to their own separate predraw(), postdraw()?

========================================

## WORKING ON

- allow for deletion of selection of gates

- make custom gates from selection:
    - inputs and outputs are now WireKey and not pins
    - text size of wire 
    - moving custom gates
    - allow for nested custom gates
    - saving and loading custom gates

========================================

## DONE 

X pasting on already existing gates shouldn't be possible
X FIX: dragging, doing shift and right clicking places an already dragged gate
X lerp selected gates with blue ; added some more InputStates, color, base_color fields to Gate::draw, Gate::draw_pins
X allow for dragging a selection of gates
X make an 'align' helper trait for f32.
X change 'DragGate' to 'DraggingGate'
X make the DraggingSelectedGates not be aligned and draw the drop shadow of gates
X check before accepting drag-drop that there is no intersection with tree, lacking in DragGate and DraggingSelectedGates
X pasting gates shouldnt have a big rectangle, rather some hover gates because the gates might be diagonal and not intersect